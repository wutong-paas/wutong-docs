<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>梧桐PaaS Blog</title>
        <link>https://wutong-pass.github.io/wutong-docs/blog</link>
        <description>梧桐PaaS Blog</description>
        <lastBuildDate>Fri, 11 Mar 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <item>
            <title><![CDATA[鲲鹏适配安装]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/zhoupeng/20220311/kunpeng-install</link>
            <guid>zhoupeng/20220311/kunpeng-install</guid>
            <pubDate>Fri, 11 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[安装环境]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_mojV" id="安装环境">安装环境<a class="hash-link" href="#安装环境" title="Direct link to heading">​</a></h2><p>操作系统版本：openEuler 20.03</p><p>kuberneteas 版本：V1.22.7</p><p>Docker版本：20.10.9</p><p>梧桐平台版本：V5.5.0</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="安装docker-设置参数">安装docker 设置参数<a class="hash-link" href="#安装docker-设置参数" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://download.docker.com/linux/static/stable/aarch64/docker-20.10.9.tgz -o /opt/tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> zxf docker-20.10.9.tgz </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> docker/* /user/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 配置docker守护进程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> /usr/lib/systemd/system/docker.service</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">[Unit]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Description=Docker Application Container Engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Documentation=https://docs.docker.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">After=network-online.target firewalld.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Wants=network-online.target</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">[Service]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Type=notify</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># the default is not to use systemd for cgroups because the delegate issues still</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># exists and systemd currently does not support the cgroup feature set required</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># for containers run by docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">ExecStart=/usr/bin/dockerd -H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">ExecReload=/bin/kill -s HUP </span><span class="token string variable" style="color:#36acaa">$MAINPID</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># Having non-zero Limit*s causes performance problems due to accounting overhead</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># in the kernel. We recommend using cgroups to do container-local accounting.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">LimitNOFILE=infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">LimitNPROC=infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">LimitCORE=infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># Uncomment TasksMax if your systemd version supports it.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># Only systemd 226 and above support this version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">#TasksMax=infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">TimeoutStartSec=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># set delegate yes so that systemd does not reset the cgroups of docker containers</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Delegate=yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># kill only the docker process, not all processes in the cgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">KillMode=process</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># restart the docker process if it exits prematurely</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Restart=on-failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">StartLimitBurst=3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">StartLimitInterval=60s</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">[Install]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">WantedBy=multi-user.target</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置docker开机启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> systemctl restart </span><span class="token function" style="color:#d73a49">docker</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="kubeadm-安装k8s集群">kubeadm 安装K8s集群<a class="hash-link" href="#kubeadm-安装k8s集群" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="准备镜像">准备镜像<a class="hash-link" href="#准备镜像" title="Direct link to heading">​</a></h4><p>大部分镜像都有arm64版本，只有etcd需要自行根据arm64二进制程序构建镜像</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/etcd-io/etcd/releases/download/v3.5.0/etcd-v3.5.0-linux-arm64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> zxf etcd-v3.5.0-linux-arm64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> etcd-v3.5.0-linux-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t registry.aliyuncs.com/google_containers/etcd:3.5.0-0 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="配置-arm-的-yum-源">配置 arm 的 yum 源<a class="hash-link" href="#配置-arm-的-yum-源" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[kubernetes]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name=Kubernetes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-aarch64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enabled=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpgcheck=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repo_gpgcheck=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg http://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum clean all &amp;&amp; yum makecache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum list kubectl --showduplicates | sort -r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="所有节点安装k8s组件">所有节点安装K8S组件<a class="hash-link" href="#所有节点安装k8s组件" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y kubelet-1.22.7 kubeadm-1.22.7 kubectl-1.22.7 kubernetes-cni-0.8.7-0.aarch64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置kubelet开机启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> kubelet </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> systemctl restart kubelet</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="初始化集群">初始化集群<a class="hash-link" href="#初始化集群" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubeadm init \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--kubernetes-version=v1.22.7 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--apiserver-cert-extra-sans=10.96.0.1,192.168.0.169,192.168.0.21,192.168.0.22,192.168.0.23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--image-repository registry.aliyuncs.com/google_containers \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--pod-network-cidr=10.244.0.0/16 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--ignore-preflight-errors=Swap \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--control-plane-endpoint "192.168.0.169:6443" \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--upload-certs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--v=3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>注意：替换apiserver-cert-extra-sans 和 control-plane-endpoint 地址为实际地址</p></blockquote><h4 class="anchor anchorWithStickyNavbar_mojV" id="安装-sfs-存储插件">安装 sfs 存储插件<a class="hash-link" href="#安装-sfs-存储插件" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> nfs-subdir-external-provisioner https://kubernetes-sigs.github.io/nfs-subdir-external-provisioner/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> sfs-charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm show values nfs-subdir-external-provisioner/nfs-subdir-external-provisioner </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ./sfs-charts/values.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 修改values文件以下配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repository: devhub.devcloud.talkweb.com.cn/sig-storage/nfs-subdir-external-provisioner-arm64:v4.0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nfs.server：172.16.1.46  </span><span class="token comment" style="color:#999988;font-style:italic"># 实际的sfs地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nfs.path：/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storageClass.name：sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 安装插件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> nfs-subdir-external-provisioner -f ./sfs-charts/values.yaml nfs-subdir-external-provisioner/nfs-subdir-external-provisioner</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="挂载sfs文件系统">挂载sfs文件系统<a class="hash-link" href="#挂载sfs文件系统" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 挂载目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> -t nfs -o </span><span class="token assign-left variable" style="color:#36acaa">vers</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">,nolock </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.0.99:/  /mnt/sfs_turbo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#fstab 配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.0.99:/ /mnt/sfs_turbo nfs </span><span class="token assign-left variable" style="color:#36acaa">vers</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">,timeo</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">600</span><span class="token plain">,nolock </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="梧桐paas安装">梧桐PAAS安装<a class="hash-link" href="#梧桐paas安装" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="安装console">安装console<a class="hash-link" href="#安装console" title="Direct link to heading">​</a></h4><p>目前没有对应arm平台的 allinone 镜像，因此console安装在X86平台</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> wutong-paas https://openchart.goodrain.com/goodrain/rainbond</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 下载console</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm pull rainbond/rainbond-console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 配置value.yaml 按实际情况调整以下配置(默认allinone模式)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvc:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="接入k8s集群安装rbd组件">接入K8S集群（安装rbd组件）<a class="hash-link" href="#接入k8s集群安装rbd组件" title="Direct link to heading">​</a></h4><p>提前下载对应镜像，目前镜像大部分在官网仓库可找到，只有nfs-provisioner存储插件镜像需要自编译</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rainbond-operator:v2.2.0-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rainbond-operator:v2.2.0-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rainbond-operator:v2.2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-chaos:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-chaos:v5.5.0-release-arm64  registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-chaos:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-node:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-node:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-node:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-gateway:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-gateway:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-gateway:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull gcr.io/google-containers/etcd-arm64:3.3.17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag gcr.io/google-containers/etcd-arm64:3.3.17 registry.cn-hangzhou.aliyuncs.com/goodrain/etcd:v3.3.18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-scraper:v1.0.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-scraper:v1.0.4-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-scraper:v1.0.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-api:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-api:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-api:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-eventlog:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-eventlog:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-eventlog:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-server:v0.3.6-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-server:v0.3.6-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-server:v0.3.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-monitor:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-monitor:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-monitor:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-mq:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-mq:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-mq:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/kubernetes-dashboard:v2.0.1-3-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/kubernetes-dashboard:v2.0.1-3-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/kubernetes-dashboard:v2.0.1-3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-resource-proxy:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-resource-proxy:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-resource-proxy:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-webcli:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-webcli:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-webcli:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-worker:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-worker:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-worker:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull swr.cn-southwest-2.myhuaweicloud.com/wutong/nfs-provisioner:v1.0.0-stable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag swr.cn-southwest-2.myhuaweicloud.com/wutong/nfs-provisioner:v1.0.0-stable registry.cn-hangzhou.aliyuncs.com/goodrain/nfs-provisioner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry:2.6.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry:2.6.2 registry.cn-hangzhou.aliyuncs.com/goodrain/registry:2.6.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull mysql:8.0-oracle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag mysql:8.0-oracle registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-db:8.0.19</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull prom/mysqld-exporter:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag prom/mysqld-exporter:latest registry.cn-hangzhou.aliyuncs.com/goodrain/mysqld-exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull rancher/metrics-server:v0.3.6-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag rancher/metrics-server:v0.3.6-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-server:v0.3.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull kubernetesui/metrics-scraper:v1.0.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag kubernetesui/metrics-scraper:v1.0.4 registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-scraper:v1.0.4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>最后console 界面导入集群</p>]]></content:encoded>
            <category>kunpeng</category>
            <category>install</category>
        </item>
        <item>
            <title><![CDATA[技术博客编制手册]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/fcheng/20220309/blog-tutorial</link>
            <guid>fcheng/20220309/blog-tutorial</guid>
            <pubDate>Thu, 10 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[新建一个markdown文件 blog/user/datetime/blog-tutorial.md，文件内容如下:]]></description>
            <content:encoded><![CDATA[<p>新建一个<code>markdown</code>文件 <code>blog/user/datetime/blog-tutorial.md</code>，文件内容如下:</p><div class="codeBlockContainer_I0IT language-md theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">blog/user/datetime/blog-tutorial.md</div><div class="codeBlockContent_wNvx md"><pre tabindex="0" class="prism-code language-md codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 大家好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是我的第一个 梧桐PaaS </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">技术博客</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>这个新文档就可以通过访问 <code>http://localhost:3000/blog/user/datetime/blog-tutorial</code>进行浏览。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="配置文档信息">配置文档信息<a class="hash-link" href="#配置文档信息" title="Direct link to heading">​</a></h2><p>在docs目录下新建文件和文件夹，对应的侧边栏会<strong>自动建立</strong>。可以通过在新建文件中增加元数据来定制侧边栏的显示内容和排列顺序，如下所示：</p><div class="codeBlockContainer_I0IT language-md theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">blog/user/datetime/blog-tutorial.md</div><div class="codeBlockContent_wNvx md"><pre tabindex="0" class="prism-code language-md codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token front-matter-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml">slug: fcheng/20220309/blog-tutorial</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block front-matter yaml language-yaml">title: 技术博客编制手册</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block front-matter yaml language-yaml">authors: fcheng</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block front-matter yaml language-yaml">tags: [手册, 博客]</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 大家好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是我的第一个 </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">梧桐PaaS平台文档</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="说明">说明<a class="hash-link" href="#说明" title="Direct link to heading">​</a></h3><ul><li><strong>slug</strong>: 浏览文档时的相对path，<code>fcheng/20220309/blog-tutorial</code> 对应的文档访问路径为：http://localhost:3000/blog/fcheng/20220309/blog-tutorial。slug的命名规范建议：{用户名}/{日期}/{博客文件名}</li><li><strong>title</strong>：博客标题，根据博客内容定义的博客标题，博客列表和博客标题中显示。</li><li><strong>authors</strong>: 定义的用户id，用户信息会显示在博客内容的最前面。</li><li><strong>tags</strong>: 标签列表，博客可以通过标签去筛选。</li></ul>]]></content:encoded>
            <category>手册</category>
            <category>博客</category>
        </item>
        <item>
            <title><![CDATA[产品文档编制手册]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/fcheng/20220309/doc-tutorial</link>
            <guid>fcheng/20220309/doc-tutorial</guid>
            <pubDate>Thu, 10 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[新建产品文档]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_mojV" id="新建产品文档">新建产品文档<a class="hash-link" href="#新建产品文档" title="Direct link to heading">​</a></h2><p>新建一个<code>markdown</code>文件 <code>docs/intro.md</code>，文件内容如下:</p><div class="codeBlockContainer_I0IT language-md theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">docs/intro.md</div><div class="codeBlockContent_wNvx md"><pre tabindex="0" class="prism-code language-md codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 大家好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是我的第一个 </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">梧桐PaaS平台文档</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>这个新文档就可以同过访问 <code>http://localhost:3000/docs/intro</code>进行浏览。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="配置侧边栏信息">配置侧边栏信息<a class="hash-link" href="#配置侧边栏信息" title="Direct link to heading">​</a></h2><p>在docs目录下新建文件和文件夹，对应的侧边栏会<strong>自动建立</strong>。可以通过在新建文件中增加元数据来定制侧边栏的显示内容和排列顺序，如下所示：</p><div class="codeBlockContainer_I0IT language-md theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">docs/intro.md</div><div class="codeBlockContent_wNvx md"><pre tabindex="0" class="prism-code language-md codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">sidebar_label: 产品介绍</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">title: 梧桐PaaS产品介绍</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">sidebar_position: 1</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">slug: intro</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">description: 云原生应用开发和交付的最佳实践，简单易用。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 大家好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是我的第一个 </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">梧桐PaaS平台文档</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><strong>sidebar_label</strong>：侧边栏显示内容</li><li><strong>title</strong>：文档标题</li><li><strong>sidebar_position</strong>: 文档在侧边栏的排序</li><li><strong>slug</strong>: 浏览文档时的相对path，<code>slug: intro</code> 对应的文档访问路径为：http://localhost:3000/docs/intro</li><li><strong>description</strong>: 文档的描述信息</li></ul>]]></content:encoded>
            <category>手册</category>
            <category>文档</category>
        </item>
        <item>
            <title><![CDATA[MDX示例]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/mdx-blog-post</link>
            <guid>mdx-blog-post</guid>
            <pubDate>Sun, 01 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Blog posts support Docusaurus Markdown features, such as MDX.]]></description>
            <content:encoded><![CDATA[<p>Blog posts support <a href="https://docusaurus.io/docs/markdown-features" target="_blank" rel="noopener noreferrer">Docusaurus Markdown features</a>, such as <a href="https://mdxjs.com/" target="_blank" rel="noopener noreferrer">MDX</a>.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Use the power of React to create interactive blog posts.</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'button clicked!'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Click</span><span class="token plain"> me</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><button>Click me!</button></div></div>]]></content:encoded>
            <category>blog</category>
            <category>MDX</category>
        </item>
    </channel>
</rss>
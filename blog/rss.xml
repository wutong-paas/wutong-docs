<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>梧桐PaaS Blog</title>
        <link>https://wutong-pass.github.io/wutong-docs/blog</link>
        <description>梧桐PaaS Blog</description>
        <lastBuildDate>Thu, 24 Mar 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <item>
            <title><![CDATA[开源文化及梧桐PaaS平台开源探索]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/fcheng/20220324/opensource-and-wutongpaas</link>
            <guid>fcheng/20220324/opensource-and-wutongpaas</guid>
            <pubDate>Thu, 24 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[开源介绍]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_mojV" id="开源介绍">开源介绍<a class="hash-link" href="#开源介绍" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="开源软件发展历程">开源软件发展历程<a class="hash-link" href="#开源软件发展历程" title="Direct link to heading">​</a></h3><p><img src="https://user-images.githubusercontent.com/100248197/155274146-0d3e36b8-539f-4323-ab22-15dcc23f2837.png" alt="history of FOOS"></p><ul><li>1982 ~ 1993 年： 自由软件，GNU的时代；</li><li>1994 ~ 2002 年： 开源和Linux、Apache崛起；</li><li>2003 ~ 2010 年： 大数据、云计算时代；</li><li>2011 ~    现在： 开源已经成为主流、云原生时代。
<img src="https://user-images.githubusercontent.com/100248197/159655111-f8e26e7b-93c3-4ee9-881c-4827fb701046.png" alt="云原生发展历程"></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="关于开源许可证">关于开源许可证<a class="hash-link" href="#关于开源许可证" title="Direct link to heading">​</a></h3><ul><li>当你创作一件创造性的作品(如文字、图像或软件代码)时，该作品在默认情况下拥有<strong>独家版权</strong>。</li><li>法律认为，作为作品的作者，你对别人如何使用你的作品有<strong>发言权</strong>。一般来说，这意味着任何人都不能使用、复制、分发或修改你的作品，否则就会面临撤下、勒索或诉讼的<strong>风险</strong>。</li><li><strong>开源软件作者</strong>希望其他人使用、修改和共享作品。但是，由于合法的默认值仍然是专有版权，所以就需要一个明确声明这些权限的<strong>许可证</strong>。</li><li>如果你的项目<strong>没有使用开放源码许可</strong>，为项目做出贡献的每个人都将成为其作品的独家版权所有者。这意味着<strong>任何人都不能使用、复制、分发或修改</strong>他们的贡献——“任何人”也包括你。</li><li>今天，<strong>开源许可已经走向了标准化</strong>，并且易于使用。我们可以将现有的许可证直接复制-粘贴到项目中。</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="自由软件开源软件和免费软件对比">自由软件，开源软件和免费软件对比<a class="hash-link" href="#自由软件开源软件和免费软件对比" title="Direct link to heading">​</a></h4><p><img src="https://user-images.githubusercontent.com/100248197/159671212-ea0e018f-bf2a-4a9f-b7ce-381487a79749.png" alt="自由-开源-免费-"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="osi已经批准的license"><a href="https://opensource.org/licenses/alphabetical" target="_blank" rel="noopener noreferrer">OSI已经批准的license</a><a class="hash-link" href="#osi已经批准的license" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithStickyNavbar_mojV" id="开源社区流行和被广泛使用的许可证">开源社区流行和被广泛使用的许可证<a class="hash-link" href="#开源社区流行和被广泛使用的许可证" title="Direct link to heading">​</a></h4><ul><li>Apache License 2.0 (Apache-2.0)</li><li>3-clause BSD license (BSD-3-Clause)</li><li>2-clause BSD license (BSD-2-Clause)</li><li>GNU General Public License (GPL)</li><li>GNU Lesser General Public License (LGPL)</li><li>MIT license (MIT)</li><li>Mozilla Public License 2.0 (MPL-2.0)</li><li>Common Development and Distribution License 1.0 (CDDL-1.0)</li><li>Eclipse Public License 2.0 (EPL-2.0)
<img src="https://user-images.githubusercontent.com/100248197/159669939-276d74b8-936c-49d2-81e9-4feaa8cdaf9f.png" alt="top-licenses2021"></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="流行开源许可证对比">流行开源许可证对比<a class="hash-link" href="#流行开源许可证对比" title="Direct link to heading">​</a></h4><p><img src="https://user-images.githubusercontent.com/100248197/159671403-20e24d35-16bd-48b7-b3b8-45007ac45c27.png" alt="popular-open-source-software-licenses"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="开源组织介绍">开源组织介绍<a class="hash-link" href="#开源组织介绍" title="Direct link to heading">​</a></h3><p>代理制的创造，是人类文明的一大进步。开源世界也沿用了这一优秀方法，<strong>开源非盈利基金会</strong>应用而生。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="开源非盈利基金会作用">开源非盈利基金会作用<a class="hash-link" href="#开源非盈利基金会作用" title="Direct link to heading">​</a></h4><ul><li>处理法律事务</li><li>向政府申请注册</li><li>接受社会捐赠</li><li>孵化开源项目</li><li>中立信任</li><li>功能还在不断扩展中</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="国际开源组织">国际开源组织<a class="hash-link" href="#国际开源组织" title="Direct link to heading">​</a></h4><ul><li><a href="http://www.apache.org/foundation/" target="_blank" rel="noopener noreferrer"> Apache Software Foundation </a></li><li><a href="https://www.cncf.io/" target="_blank" rel="noopener noreferrer">Cloud Native Computing Foundation's (CNCF)</a></li><li><a href="http://www.linuxfoundation.org/about" target="_blank" rel="noopener noreferrer">Linux Foundation</a></li><li><a href="https://opensource.com/resources/organizations" target="_blank" rel="noopener noreferrer">More...</a></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="国内开源组织">国内开源组织<a class="hash-link" href="#国内开源组织" title="Direct link to heading">​</a></h4><p><img src="https://user-images.githubusercontent.com/100248197/159711268-49eeb6c8-79a8-49e8-a0da-2f0ae62a86b1.png" alt="中国开源组织">
<strong><a href="http://www.openatom.cn/#/" target="_blank" rel="noopener noreferrer">开放原子开源基金会</a></strong><br>
<!-- -->成立时间： 2020年6月<br>
<!-- -->2020年初，木兰宽松许可证第二版（MulanPSL v2）通过 OSI 认证，成为中国首个被国际开源社区认可的开源协议；<br>
<!-- -->2020年8月，工信部等部门联合<a href="https://gitee.com/" target="_blank" rel="noopener noreferrer">Gitee</a>建设中国独立的开源托管平台；TiDB 开发商 PingCAP、emqttd 开发商 EMQ 等一批国内原生开源创企获得上亿元融资，中国开源产业发展进入快车道；<br>
<!-- -->2020年6月15日。中国迎来了历史上第一个开源软件基金会——<strong>开放原子开源基金会</strong>。开放原子开源基金会是中国首个，也是目前唯一一个以开源为主题的基金会。根据官方信息，开放原子开源基金会是一个致力于开源产业的<strong>全球性非营利公益机构</strong>，业务范围包括开源软件、开源硬件、开源芯片与开源内容等，为各类开源项目提供中立的知识产权托管服务，以及战略咨询、法务咨询、项目运营和品牌营销服务。基金会介绍，开源基金会是开源项目的孵化器、连接器与倍增器。通过对开源代码的开放治理以便于形成事实标准，连接产学研共建生态，为开源项目找到更多的应用场景。<br>
<!-- -->开放原子开源基金会设<strong>理事会</strong>、<strong>TOC </strong>与<strong>秘书处</strong>，理事会负责审议和修改基金会章程等；TOC 也即技术监督委员会是其中立的技术决策机构，负责基金会技术相关的决策，以及项目的孵化评审等；秘书处是基金会的执行机构，负责基金会日常事务等工作。至此，开源软件在国内开始受到各行各业的广泛重视。<br>
<!-- -->2021 年 3 月，国家十四五发展规划中首次提及“开源”，明确指出“支持数字技术开源社区等创新联合体发展，完善开源知识产权和法律体系，鼓励企业开放软件源代码、硬件设计和应用服务”。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="当下开源软件繁荣景象">当下开源软件繁荣景象<a class="hash-link" href="#当下开源软件繁荣景象" title="Direct link to heading">​</a></h3><ul><li>99%世界500强公司使用开源软件</li><li>在80%的IT部门增加开源软件的使用</li><li>在企业软件中有35%是基于开源软件的</li><li>超过5600万开发者在为从事开源项目</li><li>GIthub上有超过1.4亿开源项目</li><li>每天约有10000行代码添加到Linux<br><img src="https://user-images.githubusercontent.com/100248197/159815237-5412a1bc-f763-42ff-8384-b235dc306eb5.png" alt="linux-kernel">  </li><li>服务器操作系统市场被Linux统治
<img src="https://user-images.githubusercontent.com/100248197/159817122-d8ff2319-7bbc-40e6-9297-fce0a827018f.png" alt="700px-Operating_systems_used_on_top_500_supercomputers svg"></li><li><a href="https://devstats.cncf.io/" target="_blank" rel="noopener noreferrer">CNCF开源项目的繁荣</a>  </li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="开源和云">开源和云<a class="hash-link" href="#开源和云" title="Direct link to heading">​</a></h3><ul><li>免费和开源软件是云计算的主要驱动力</li><li>云提供商<strong>严重依赖开源软件</strong>，如Linux，以及虚拟化软件，如KVM和Xen</li><li>云厂商本身就是开源最大的使用者、最佳实践，可以帮企业管理屏蔽试错风险。</li><li>云平台天然是一个协作平台，可以让开源贡献者、开源使用者，在云上互通需求驱动发展。</li><li>新的时代，开源的发展越来越蓬勃，开源和云的关系越来越复杂，耦合度越来越高，云是开源软件允许的最佳环境之一，为开源软件插上安全高效的腾飞引擎。<br><img loading="lazy" alt="CNCF会员" src="/wutong-docs/assets/images/cncf-memeber-ff9fc2d5669c6dab08a9532c7efcdd03.png" width="3441" height="1941"></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="1-云计算为开源带来的变化">1. 云计算为开源带来的变化<a class="hash-link" href="#1-云计算为开源带来的变化" title="Direct link to heading">​</a></h4><ul><li>客户从购买软件自己负责整个使用过程，转变成直接使用服务，不需要关注服务之外的支撑细节。客户对于软件本身相关的商业条款敏感度下降，服务包装后的不透明性也会削弱使用者对软件开发的参与程度，尤其是<strong>确保运行和能力提供的责任会转移到云计算的提供者</strong>。</li><li>广泛使用的开源软件许可制定时间较早，当时云计算还没有出现或没有形成大影响，许可条款主要针对的软件以发行为主的情况。云服务尤其是封装后的PaaS服务包含的软件，规避了GPL这样的强制再开源的义务，<strong>开源衍生出的云服务一定程度纵容了云厂商减少对开源软件本身的贡献和分享</strong>。</li><li>互联网巨头们广泛使用开源软件的成功经验和公共云的持续发展已经证明了绝大部分场景下<strong>闭源的基础设施和支撑平台类软件不再具有普遍的发展前途</strong>。</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="2-云与开源协同发展">2. 云与开源协同发展<a class="hash-link" href="#2-云与开源协同发展" title="Direct link to heading">​</a></h4><ul><li>没有<strong>客户希望自己被特定供应商绑定</strong>，公共云也是一样，支持应用运行的基础平台也从软件年代的操作系统和数据库演进到了容器调度，混合云作为一种会长期存在的支撑方式也会持续发展。基于这些条件，云平台应该提供的是一种通用的<strong>开放技术</strong>，在应用使用的功能性接口方面，遵守标准的<strong>通用性</strong>，不限制应用的可迁移性。</li><li>主流云计算厂商正在企业IT市场发挥越来越大的作用，<strong>主流开源软件与云平台的有效集成是云平台的重要能力体现</strong>。开源技术也是云服务未来的发展方向，积极有效的参与主流开源项目是<strong>云厂商的重要机会</strong>。大型云厂商投入人力和资金帮助开源项目持续发展，有助于云技术能力得到有效发挥。</li><li>对于使用者来说，市场上主流云平台在容器、中间件和数据库这些主要技术能力方面，提供的功能一致性远远高于客户自主搭建。用户在设计自己的业务系统时，<strong>追求云特有能力不侵入应用代码而只是在管控层面发挥作用，应该是现实可行的做法，这也是平台中立的云原生追求的方向。</strong></li><li>开源软件已经证明自身是<strong>平台技术软件有效的、主流的发展形态，云计算与开源的结合会成为必然趋势</strong>。</li><li>开源软件以不同程度托管在云上运行，提供技术能力，会是未来企业IT面临的主要选择。</li><li>基础设施的服务能力保持托管的软件服务本身的<strong>开放性和兼容性，是非常重要的努力方向，以运行效果而不是黑盒方式吸引并留住客户会成为云平台的核心竞争力</strong>。</li><li>云计算的持续发展为开源软件提供了新的舞台，<strong>云平台与开源社区有效合作，并且避免锁定，来获得用户的信任</strong>。</li><li>总体来说，云自诞生开始与生俱来的特性以及不断发展的能力，天然就具备了解决企业可持续的使用开源软件所带来的挑战。目前，<strong>云被证明是最好的企业IT架构治理的平台，这个治理包括对开源技术的治理</strong>。云平台能够更好地集中解决安全与合规的问题，针对不同的开源软件合规扫描、漏洞扫描、升级等等。</li><li>云原生的发展使得各个不同的基础开源软件和创新开源软件的技术融合，云原生时代<strong>开源软件的可观测性、开发效率和管理效能大大提升</strong>。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="企业作为行业开源者的挑战">企业作为行业开源者的挑战<a class="hash-link" href="#企业作为行业开源者的挑战" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="1-构建生态的挑战">1. 构建生态的挑战<a class="hash-link" href="#1-构建生态的挑战" title="Direct link to heading">​</a></h4><p>早期的开源社区运营，并不能很好地反映开源技术在各行业各企业的实际应用情况。目前，开源社区与基金会的运营更看重产业沟通和用户分享，软件产品基于云的使用量统计可能形成一个新的生态运营机制。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="2-商业模式的挑战">2. 商业模式的挑战<a class="hash-link" href="#2-商业模式的挑战" title="Direct link to heading">​</a></h4><p>开源产品的商业模型基本上融合了以下四种模型:开放核心(Open-Core)，同时提供差异化的商业产品；专业服务(Professional Services)；托管(Hosting)；市场(Market place)，提供应用商店、应用市场、插件。<br>
<!-- -->引用材料：<a href="https://mp.weixin.qq.com/s/TWgjCukcGVYy06Dx5_Z4zA" target="_blank" rel="noopener noreferrer">企业拥抱开源之前，必须了解的七件事</a>  </p><p><strong>我们公司作为行业开源者的挑战？</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="梧桐paas平台探索">梧桐PaaS平台探索<a class="hash-link" href="#梧桐paas平台探索" title="Direct link to heading">​</a></h2><p><a href="https://github.com/wutong-paas/wutong-tasks/issues/18" target="_blank" rel="noopener noreferrer">梧桐PaaS平台开源策略</a></p>]]></content:encoded>
            <category>分享</category>
            <category>文档</category>
        </item>
        <item>
            <title><![CDATA[鲲鹏适配安装]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/zhoupeng/20220311/kunpeng-install</link>
            <guid>zhoupeng/20220311/kunpeng-install</guid>
            <pubDate>Fri, 11 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[安装环境]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_mojV" id="安装环境">安装环境<a class="hash-link" href="#安装环境" title="Direct link to heading">​</a></h2><p>操作系统版本：openEuler 20.03</p><p>kuberneteas 版本：V1.22.7</p><p>Docker版本：20.10.9</p><p>梧桐平台版本：V5.5.0</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="安装docker-设置参数">安装docker 设置参数<a class="hash-link" href="#安装docker-设置参数" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://download.docker.com/linux/static/stable/aarch64/docker-20.10.9.tgz -o /opt/tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> zxf docker-20.10.9.tgz </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> docker/* /user/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 配置docker守护进程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> /usr/lib/systemd/system/docker.service</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">[Unit]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Description=Docker Application Container Engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Documentation=https://docs.docker.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">After=network-online.target firewalld.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Wants=network-online.target</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">[Service]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Type=notify</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># the default is not to use systemd for cgroups because the delegate issues still</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># exists and systemd currently does not support the cgroup feature set required</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># for containers run by docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">ExecStart=/usr/bin/dockerd -H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">ExecReload=/bin/kill -s HUP </span><span class="token string variable" style="color:#36acaa">$MAINPID</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># Having non-zero Limit*s causes performance problems due to accounting overhead</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># in the kernel. We recommend using cgroups to do container-local accounting.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">LimitNOFILE=infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">LimitNPROC=infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">LimitCORE=infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># Uncomment TasksMax if your systemd version supports it.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># Only systemd 226 and above support this version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">#TasksMax=infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">TimeoutStartSec=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># set delegate yes so that systemd does not reset the cgroups of docker containers</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Delegate=yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># kill only the docker process, not all processes in the cgroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">KillMode=process</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># restart the docker process if it exits prematurely</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Restart=on-failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">StartLimitBurst=3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">StartLimitInterval=60s</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">[Install]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">WantedBy=multi-user.target</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置docker开机启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> systemctl restart </span><span class="token function" style="color:#d73a49">docker</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="kubeadm-安装k8s集群">kubeadm 安装K8s集群<a class="hash-link" href="#kubeadm-安装k8s集群" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="准备镜像">准备镜像<a class="hash-link" href="#准备镜像" title="Direct link to heading">​</a></h4><p>大部分镜像都有arm64版本，只有etcd需要自行根据arm64二进制程序构建镜像</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/etcd-io/etcd/releases/download/v3.5.0/etcd-v3.5.0-linux-arm64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> zxf etcd-v3.5.0-linux-arm64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> etcd-v3.5.0-linux-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t registry.aliyuncs.com/google_containers/etcd:3.5.0-0 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="配置-arm-的-yum-源">配置 arm 的 yum 源<a class="hash-link" href="#配置-arm-的-yum-源" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[kubernetes]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name=Kubernetes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-aarch64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enabled=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpgcheck=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repo_gpgcheck=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg http://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum clean all &amp;&amp; yum makecache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum list kubectl --showduplicates | sort -r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="所有节点安装k8s组件">所有节点安装K8S组件<a class="hash-link" href="#所有节点安装k8s组件" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y kubelet-1.22.7 kubeadm-1.22.7 kubectl-1.22.7 kubernetes-cni-0.8.7-0.aarch64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置kubelet开机启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> kubelet </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> systemctl restart kubelet</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="初始化集群">初始化集群<a class="hash-link" href="#初始化集群" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kubeadm init \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--kubernetes-version=v1.22.7 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--apiserver-cert-extra-sans=10.96.0.1,192.168.0.169,192.168.0.21,192.168.0.22,192.168.0.23 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--image-repository registry.aliyuncs.com/google_containers \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--pod-network-cidr=10.244.0.0/16 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--ignore-preflight-errors=Swap \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--control-plane-endpoint "192.168.0.169:6443" \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--upload-certs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--v=3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>注意：替换apiserver-cert-extra-sans 和 control-plane-endpoint 地址为实际地址</p></blockquote><h4 class="anchor anchorWithStickyNavbar_mojV" id="安装-sfs-存储插件">安装 sfs 存储插件<a class="hash-link" href="#安装-sfs-存储插件" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> nfs-subdir-external-provisioner https://kubernetes-sigs.github.io/nfs-subdir-external-provisioner/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> sfs-charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm show values nfs-subdir-external-provisioner/nfs-subdir-external-provisioner </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ./sfs-charts/values.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 修改values文件以下配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repository: devhub.devcloud.talkweb.com.cn/sig-storage/nfs-subdir-external-provisioner-arm64:v4.0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nfs.server：172.16.1.46  </span><span class="token comment" style="color:#999988;font-style:italic"># 实际的sfs地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nfs.path：/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storageClass.name：sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 安装插件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> nfs-subdir-external-provisioner -f ./sfs-charts/values.yaml nfs-subdir-external-provisioner/nfs-subdir-external-provisioner</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="挂载sfs文件系统">挂载sfs文件系统<a class="hash-link" href="#挂载sfs文件系统" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 挂载目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mount</span><span class="token plain"> -t nfs -o </span><span class="token assign-left variable" style="color:#36acaa">vers</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">,nolock </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.0.99:/  /mnt/sfs_turbo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#fstab 配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.0.99:/ /mnt/sfs_turbo nfs </span><span class="token assign-left variable" style="color:#36acaa">vers</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">,timeo</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">600</span><span class="token plain">,nolock </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="梧桐paas安装">梧桐PAAS安装<a class="hash-link" href="#梧桐paas安装" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_mojV" id="安装console">安装console<a class="hash-link" href="#安装console" title="Direct link to heading">​</a></h4><p>目前没有对应arm平台的 allinone 镜像，因此console安装在X86平台</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> wutong-paas https://openchart.goodrain.com/goodrain/rainbond</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 下载console</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm pull rainbond/rainbond-console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 配置value.yaml 按实际情况调整以下配置(默认allinone模式)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvc:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="接入k8s集群安装rbd组件">接入K8S集群（安装rbd组件）<a class="hash-link" href="#接入k8s集群安装rbd组件" title="Direct link to heading">​</a></h4><p>提前下载对应镜像，目前镜像大部分在官网仓库可找到，只有nfs-provisioner存储插件镜像需要自编译</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rainbond-operator:v2.2.0-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rainbond-operator:v2.2.0-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rainbond-operator:v2.2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-chaos:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-chaos:v5.5.0-release-arm64  registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-chaos:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-node:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-node:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-node:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-gateway:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-gateway:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-gateway:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull gcr.io/google-containers/etcd-arm64:3.3.17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag gcr.io/google-containers/etcd-arm64:3.3.17 registry.cn-hangzhou.aliyuncs.com/goodrain/etcd:v3.3.18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-scraper:v1.0.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-scraper:v1.0.4-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-scraper:v1.0.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-api:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-api:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-api:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-eventlog:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-eventlog:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-eventlog:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-server:v0.3.6-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-server:v0.3.6-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-server:v0.3.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-monitor:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-monitor:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-monitor:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-mq:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-mq:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-mq:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/kubernetes-dashboard:v2.0.1-3-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/kubernetes-dashboard:v2.0.1-3-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/kubernetes-dashboard:v2.0.1-3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-resource-proxy:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-resource-proxy:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-resource-proxy:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-webcli:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-webcli:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-webcli:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-worker:v5.5.0-release-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-worker:v5.5.0-release-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-worker:v5.5.0-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull swr.cn-southwest-2.myhuaweicloud.com/wutong/nfs-provisioner:v1.0.0-stable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag swr.cn-southwest-2.myhuaweicloud.com/wutong/nfs-provisioner:v1.0.0-stable registry.cn-hangzhou.aliyuncs.com/goodrain/nfs-provisioner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull registry:2.6.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag registry:2.6.2 registry.cn-hangzhou.aliyuncs.com/goodrain/registry:2.6.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull mysql:8.0-oracle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag mysql:8.0-oracle registry.cn-hangzhou.aliyuncs.com/goodrain/rbd-db:8.0.19</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull prom/mysqld-exporter:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag prom/mysqld-exporter:latest registry.cn-hangzhou.aliyuncs.com/goodrain/mysqld-exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull rancher/metrics-server:v0.3.6-arm64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag rancher/metrics-server:v0.3.6-arm64 registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-server:v0.3.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull kubernetesui/metrics-scraper:v1.0.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag kubernetesui/metrics-scraper:v1.0.4 registry.cn-hangzhou.aliyuncs.com/goodrain/metrics-scraper:v1.0.4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="最后console-界面导入集群">最后console 界面导入集群<a class="hash-link" href="#最后console-界面导入集群" title="Direct link to heading">​</a></h4><p><img src="https://user-images.githubusercontent.com/23066464/158973160-a543f09e-a6b3-4dfc-b79f-5f82150ce8ed.png" alt="image"></p>]]></content:encoded>
            <category>kunpeng</category>
            <category>install</category>
        </item>
        <item>
            <title><![CDATA[技术博客编制手册]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/fcheng/20220309/blog-tutorial</link>
            <guid>fcheng/20220309/blog-tutorial</guid>
            <pubDate>Thu, 10 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[新建一个markdown文件 blog/user/datetime/blog-tutorial.md，文件内容如下:]]></description>
            <content:encoded><![CDATA[<p>新建一个<code>markdown</code>文件 <code>blog/user/datetime/blog-tutorial.md</code>，文件内容如下:</p><div class="codeBlockContainer_I0IT language-md theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">blog/user/datetime/blog-tutorial.md</div><div class="codeBlockContent_wNvx md"><pre tabindex="0" class="prism-code language-md codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 大家好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是我的第一个 梧桐PaaS </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">技术博客</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>这个新文档就可以通过访问 <code>http://localhost:3000/blog/user/datetime/blog-tutorial</code>进行浏览。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="配置文档信息">配置文档信息<a class="hash-link" href="#配置文档信息" title="Direct link to heading">​</a></h2><p>在docs目录下新建文件和文件夹，对应的侧边栏会<strong>自动建立</strong>。可以通过在新建文件中增加元数据来定制侧边栏的显示内容和排列顺序，如下所示：</p><div class="codeBlockContainer_I0IT language-md theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">blog/user/datetime/blog-tutorial.md</div><div class="codeBlockContent_wNvx md"><pre tabindex="0" class="prism-code language-md codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token front-matter-block"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml">slug: fcheng/20220309/blog-tutorial</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block front-matter yaml language-yaml">title: 技术博客编制手册</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block front-matter yaml language-yaml">authors: fcheng</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token front-matter-block front-matter yaml language-yaml">tags: [手册, 博客]</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 大家好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是我的第一个 </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">梧桐PaaS平台文档</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="说明">说明<a class="hash-link" href="#说明" title="Direct link to heading">​</a></h3><ul><li><strong>slug</strong>: 浏览文档时的相对path，<code>fcheng/20220309/blog-tutorial</code> 对应的文档访问路径为：http://localhost:3000/blog/fcheng/20220309/blog-tutorial。slug的命名规范建议：{用户名}/{日期}/{博客文件名}</li><li><strong>title</strong>：博客标题，根据博客内容定义的博客标题，博客列表和博客标题中显示。</li><li><strong>authors</strong>: 定义的用户id，用户信息会显示在博客内容的最前面。</li><li><strong>tags</strong>: 标签列表，博客可以通过标签去筛选。</li></ul>]]></content:encoded>
            <category>手册</category>
            <category>博客</category>
        </item>
        <item>
            <title><![CDATA[产品文档编制手册]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/fcheng/20220309/doc-tutorial</link>
            <guid>fcheng/20220309/doc-tutorial</guid>
            <pubDate>Thu, 10 Mar 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[新建产品文档]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_mojV" id="新建产品文档">新建产品文档<a class="hash-link" href="#新建产品文档" title="Direct link to heading">​</a></h2><p>新建一个<code>markdown</code>文件 <code>docs/intro.md</code>，文件内容如下:</p><div class="codeBlockContainer_I0IT language-md theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">docs/intro.md</div><div class="codeBlockContent_wNvx md"><pre tabindex="0" class="prism-code language-md codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 大家好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是我的第一个 </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">梧桐PaaS平台文档</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>这个新文档就可以同过访问 <code>http://localhost:3000/docs/intro</code>进行浏览。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="配置侧边栏信息">配置侧边栏信息<a class="hash-link" href="#配置侧边栏信息" title="Direct link to heading">​</a></h2><p>在docs目录下新建文件和文件夹，对应的侧边栏会<strong>自动建立</strong>。可以通过在新建文件中增加元数据来定制侧边栏的显示内容和排列顺序，如下所示：</p><div class="codeBlockContainer_I0IT language-md theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">docs/intro.md</div><div class="codeBlockContent_wNvx md"><pre tabindex="0" class="prism-code language-md codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">sidebar_label: 产品介绍</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">title: 梧桐PaaS产品介绍</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">sidebar_position: 1</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">slug: intro</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">description: 云原生应用开发和交付的最佳实践，简单易用。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 大家好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这是我的第一个 </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">梧桐PaaS平台文档</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><strong>sidebar_label</strong>：侧边栏显示内容</li><li><strong>title</strong>：文档标题</li><li><strong>sidebar_position</strong>: 文档在侧边栏的排序</li><li><strong>slug</strong>: 浏览文档时的相对path，<code>slug: intro</code> 对应的文档访问路径为：http://localhost:3000/docs/intro</li><li><strong>description</strong>: 文档的描述信息</li></ul>]]></content:encoded>
            <category>手册</category>
            <category>文档</category>
        </item>
        <item>
            <title><![CDATA[MDX示例]]></title>
            <link>https://wutong-pass.github.io/wutong-docs/blog/mdx-blog-post</link>
            <guid>mdx-blog-post</guid>
            <pubDate>Sun, 01 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Blog posts support Docusaurus Markdown features, such as MDX.]]></description>
            <content:encoded><![CDATA[<p>Blog posts support <a href="https://docusaurus.io/docs/markdown-features" target="_blank" rel="noopener noreferrer">Docusaurus Markdown features</a>, such as <a href="https://mdxjs.com/" target="_blank" rel="noopener noreferrer">MDX</a>.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Use the power of React to create interactive blog posts.</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'button clicked!'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Click</span><span class="token plain"> me</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><button>Click me!</button></div></div>]]></content:encoded>
            <category>blog</category>
            <category>MDX</category>
        </item>
    </channel>
</rss>